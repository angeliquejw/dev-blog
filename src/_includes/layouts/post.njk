---
layout: layouts/default.njk
templateClass: tmpl-post
---

{%- if date | outOfDate %}
{% include "out-of-date.njk" %}
{%- endif %}

<div itemscope="itemscope" itemtype="http://schema.org/blogPost">
  <article class="blog-post">
    <header class="post-header u-flex">
      <h1 itemprop="headline">{{ title }}</h1>
      <time datetime="{{ date | htmlDateString }}" itemprop="datePublished">{{ date | readableDate }}</time>
    </header>

    <div itemprop="text">
      {{ content | safe }}
    </div>

    {% if comments != false %}
      {% include "post-close.njk" %}
    {% endif %}
  </article>

  {# {% include "webmentions.njk" %} #}

  <div class="meta-wrapper">
    <div class="blog-meta">
      <p>Written in <em itemprop="locationCreated">{{ location }}</em> and tagged as:
        <ul class="u-list-reset" itemprop="keywords">
        {% for tag in tags %}
          {%- if collections.tagList.indexOf(tag) != -1 -%}
          {% set tagUrl %}/tags/{{ tag | slug }}/{% endset %}
          <li><a href="{{ tagUrl | url }}">{{ tag }}</a></li>
          {%- endif -%}
        {% endfor %}
        </ul>
      </p>
    </div>

    <nav class="post-nav" aria-label="Pagination links">
      <ol class="u-list-reset u-flex{% if (prevPost.url == null) %} __only-newer{% endif %}">
      {% if prevPost.url %}
        <li>
          <a class="post-nav--link post-nav--link__old u-block" href="{{ prevPost.url }}"><em>Older</em> Post</a>
        </li>
      {% endif %}
      {% if nextPost.url %}
        <li>
          <a class="post-nav--link post-nav--link__new u-block" href="{{ nextPost.url }}"><em>Newer</em> Post</a>
        </li>
      {% endif %}
      </ol>
    </nav>
  </div>
</div>

{% include "post-footer.njk" %}
